{"version":3,"sources":["shared.styles.js","components/Header/Header.styles.js","components/Header/Header.js","components/Search/Search.styles.js","components/Search/SearchAPI.js","components/Search/Suggestions.js","app/WeatherSlice.js","components/Search/Search.js","components/Error/Error.styles.js","components/Error/Error.js","components/SearchResults/SearchResults.styles.js","components/WeatherCard/WeatherCard.styles.js","components/WeatherCard/WeatherCard.js","components/SearchResults/Next5Days.js","app/FavoritesSlice.js","components/SearchResults/Header.js","components/SearchResults/SearchResults.js","components/Favorites/Favorites.styles.js","components/Favorites/Card.js","components/Favorites/Favorites.js","App.js","app/store.js","index.js"],"names":["Button","styled","button","Container","section","HeaderWrapper","header","HeaderContainer","NavBar","nav","NavList","ol","NavItem","li","Header","exact","activeClassName","to","SearchWrapper","SearchInput","input","SuggestionsBox","ul","Suggestion","fetchCurrentWeather","locationId","fetch","then","result","ok","json","Error","catch","err","message","fetchNext5DaysWeather","fetchSuggestions","text","Suggestions","suggestions","setLocation","emptySuggestions","map","suggestion","onClick","current","value","LocalizedName","id","Key","name","weatherSlice","createSlice","initialState","weather","location","next5Days","currentWeather","reducers","changeLocation","state","action","payload","changeNext5Days","DailyForecasts","changeCurrentWeather","temperature","Temperature","Metric","Value","weatherText","WeatherText","actions","selectNext5Days","selectWeather","Search","errorHandler","useState","setSuggestions","searchInput","useRef","dispatch","useDispatch","a","handleError","e","preventDefault","filter","city","toLowerCase","target","onSubmit","type","placeholder","ref","onChange","_","debounce","ErrorContainer","errors","length","SearchResultsWrapper","SearchResultsHeader","SelectedResult","div","SelectedResultCard","Next5DaysSection","footer","Next5DaysList","Wrapper","Title","h3","WeatherCard","day","minimum","maximum","src","alt","height","byDay","byNight","formatTemperature","min","Minimum","max","Maximum","Unit","convertToC","F","toFixed","getDayOfWeek","date","dayOfWeek","Date","getDay","isNaN","Next5Days","useSelector","Day","IconPhrase","Night","favoritesSlice","favorites","changeFavorites","addFavorite","find","item","unshift","deleteFavorite","updateFavorites","Array","isArray","updateOneFavorite","ids","relevantPayload","includes","selectFavorites","isFavorite","isInFavorite","setIsInFavorite","useEffect","style","marginRight","SearchResults","CardsList","Card","h2","PageTitle","h1","place","Favorites","favorite","i","getWeather","App","error","setError","setTimeout","updateWeather","path","store","configureStore","reducer","weatherReducer","favoritesReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.819b695f.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n  padding: 0.5rem;\n  background-color: #cba5fa;\n  border-radius: 3px;\n  border: none;\n  color: #673a9f;\n`;\n\nexport const Container = styled.section`\n  width: 80%;\n  margin: 0 auto;\n`;\n","import styled from 'styled-components';\r\nimport { Container as HeaderContainer } from '../../shared.styles';\r\n\r\nexport const HeaderWrapper = styled.header`\r\n  position: sticky;\r\n  top: 0;\r\n  padding: 0;\r\n\r\n  background-color: #cba5fa;\r\n  color: #fff;\r\n`;\r\n\r\nexport const Container = styled(HeaderContainer)`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem 0;\r\n`;\r\n\r\nexport const NavBar = styled.nav``;\r\n\r\nexport const NavList = styled.ol`\r\n  display: flex;\r\n  list-style-type: none;\r\n`;\r\n\r\nexport const NavItem = styled.li`\r\n  border-radius: 3px;\r\n\r\n  &:not(:first-child) {\r\n    margin-left: 1rem;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  HeaderWrapper,\r\n  NavBar,\r\n  NavList,\r\n  NavItem,\r\n  Container,\r\n} from './Header.styles';\r\n\r\nfunction Header() {\r\n  return (\r\n    <HeaderWrapper>\r\n      <Container>\r\n        <h2>Herolo Weather</h2>\r\n        <NavBar>\r\n          <NavList>\r\n            <NavItem>\r\n              <NavLink exact activeClassName='selected' to='./'>\r\n                Home\r\n              </NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink activeClassName='selected' to='./favorites'>\r\n                Favorites\r\n              </NavLink>\r\n            </NavItem>\r\n          </NavList>\r\n        </NavBar>\r\n      </Container>\r\n    </HeaderWrapper>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import styled from 'styled-components';\n\nexport const SearchWrapper = styled.section`\n  display: flex;\n  position: relative;\n  justify-content: center;\n  align-items: center;\n\n  margin: 3rem auto;\n`;\n\nexport const SearchInput = styled.input`\n  padding: 0.5rem;\n  border-radius: 3px;\n  border-color: #cba5fa;\n  margin-right: 0.5rem;\n  min-width: 25vw;\n`;\n\nexport const SuggestionsBox = styled.ul`\n  position: absolute;\n  top: 1.3rem;\n  list-style-type: none;\n  background: #fffa;\n  width: 25vw;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n`;\n\nexport const Suggestion = styled.li`\n  padding: 0.5rem;\n`;\n","export function fetchCurrentWeather(locationId) {\r\n  return fetch(\r\n    `http://dataservice.accuweather.com/currentconditions/v1/${locationId}?apikey=KeTtBXHNPkYi36PyAGOKIulNeqKtlbhA`,\r\n  )\r\n    .then((result) => {\r\n      if (result.ok) {\r\n        return result.json();\r\n      }\r\n\r\n      throw new Error('Could not fetch current weather.');\r\n    })\r\n    .catch((err) => {\r\n      throw new Error('Could not fetch current weather.' + err.message);\r\n    });\r\n}\r\n\r\nexport function fetchNext5DaysWeather(locationId) {\r\n  return fetch(\r\n    `http://dataservice.accuweather.com/forecasts/v1/daily/5day/${locationId}?apikey=KeTtBXHNPkYi36PyAGOKIulNeqKtlbhA`,\r\n  )\r\n    .then((result) => {\r\n      if (result.ok) {\r\n        return result.json();\r\n      }\r\n\r\n      throw new Error('Could not fetch the next 5 days weather.');\r\n    })\r\n    .catch((err) => {\r\n      throw new Error('Could not fetch the next 5 days weather.' + err.message);\r\n    });\r\n}\r\n\r\nexport function fetchSuggestions(text) {\r\n  return fetch(`http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=KeTtBXHNPkYi36PyAGOKIulNeqKtlbhA&q=${text}\r\n`)\r\n    .then((result) => {\r\n      if (result.ok) {\r\n        return result.json();\r\n      }\r\n\r\n      throw new Error('Could not fetch suggestions.');\r\n    })\r\n    .catch((err) => {\r\n      throw new Error('Could not fetch suggestions.' + err.message);\r\n    });\r\n}\r\n","import React from 'react';\nimport { SuggestionsBox, Suggestion } from './Search.styles';\n\nfunction Suggestions({ suggestions, input, setLocation, emptySuggestions }) {\n  return (\n    !!suggestions && (\n      <SuggestionsBox>\n        {suggestions.map((suggestion) => (\n          <Suggestion\n            key={suggestion.Key}\n            onClick={() => {\n              input.current.value = suggestion.LocalizedName;\n              setLocation({\n                id: suggestion.Key,\n                name: suggestion.LocalizedName,\n              });\n              emptySuggestions();\n            }}\n          >\n            {suggestion.LocalizedName}\n          </Suggestion>\n        ))}\n      </SuggestionsBox>\n    )\n  );\n}\n\nexport default Suggestions;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  weather: {\n    location: {},\n    next5Days: [],\n    currentWeather: {},\n  },\n};\n\nexport const weatherSlice = createSlice({\n  name: 'weather',\n  initialState,\n  reducers: {\n    changeLocation: (state, action) => {\n      state.weather.location = action.payload;\n    },\n    changeNext5Days: (state, action) => {\n      state.weather.next5Days = action.payload.DailyForecasts;\n    },\n    changeCurrentWeather: (state, action) => {\n      if (state.weather.currentWeather)\n        state.weather.currentWeather = {\n          temperature: action.payload[0].Temperature.Metric.Value,\n          weatherText: action.payload[0].WeatherText,\n        };\n    },\n  },\n});\n\nexport const {\n  changeLocation,\n  changeNext5Days,\n  changeCurrentWeather,\n} = weatherSlice.actions;\n\nexport const selectCurrentWeather = (state) => {\n  return state.weather.weather.currentWeather;\n};\n\nexport const selectNext5Days = (state) => state.weather.weather.next5Days;\n\nexport const selectCurrentLocation = (state) => state.weather.weather.location;\n\nexport const selectWeather = (state) => state.weather.weather;\n\nexport default weatherSlice.reducer;\n","import React, { useState, useRef } from 'react';\r\nimport _ from 'lodash';\r\nimport { SearchWrapper, SearchInput } from './Search.styles';\r\nimport {\r\n  fetchSuggestions,\r\n  fetchNext5DaysWeather,\r\n  fetchCurrentWeather,\r\n} from './SearchAPI';\r\nimport { Button } from '../../shared.styles';\r\nimport Suggestions from './Suggestions';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  changeLocation,\r\n  changeNext5Days,\r\n  changeCurrentWeather,\r\n} from '../../app/WeatherSlice';\r\n\r\nfunction Search({ errorHandler }) {\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [location, setLocation] = useState(null);\r\n  const searchInput = useRef(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  async function changeHandler() {\r\n    try {\r\n      const result = await fetchSuggestions(searchInput.current.value);\r\n      setSuggestions(result);\r\n    } catch (err) {\r\n      handleError(err.message);\r\n    }\r\n  }\r\n\r\n  function handleError(message) {\r\n    setSuggestions([]);\r\n    errorHandler(message);\r\n  }\r\n\r\n  async function submitHandler(e) {\r\n    e.preventDefault();\r\n\r\n    if (location == null) {\r\n      setLocation({\r\n        id: suggestions.filter(\r\n          (city) =>\r\n            city.LocalizedName.toLowerCase() ===\r\n            e.target[0].value.toLowerCase(),\r\n        )[0]?.Key,\r\n        name: e.target[0].value,\r\n      });\r\n    }\r\n\r\n    if (location == null || location.id == null)\r\n      return handleError('Wrong search');\r\n\r\n    try {\r\n      const next5Days = await fetchNext5DaysWeather(location.id);\r\n      const currentWeather = await fetchCurrentWeather(location.id);\r\n\r\n      dispatch(changeLocation(location));\r\n      dispatch(changeNext5Days(next5Days));\r\n      dispatch(changeCurrentWeather(currentWeather));\r\n    } catch (e) {\r\n      handleError(e.message);\r\n    }\r\n\r\n    setSuggestions([]);\r\n    setLocation(null);\r\n  }\r\n\r\n  return (\r\n    <SearchWrapper>\r\n      <form onSubmit={submitHandler}>\r\n        <SearchInput\r\n          type='text'\r\n          placeholder='City'\r\n          ref={searchInput}\r\n          onChange={_.debounce(changeHandler, 1000)}\r\n        />\r\n        <Button>Check weather</Button>\r\n        <Suggestions\r\n          suggestions={suggestions}\r\n          input={searchInput}\r\n          setLocation={setLocation}\r\n          emptySuggestions={() => setSuggestions([])}\r\n        />\r\n      </form>\r\n    </SearchWrapper>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import styled from 'styled-components';\nimport { Container } from '../../shared.styles';\n\nexport const ErrorContainer = styled(Container)`\n  background-color: #f7bcb4;\n  border: #f57a69;\n  color: #c23029;\n  border-radius: 3px;\n  padding: 1rem;\n`;\n","import React from 'react';\nimport { ErrorContainer } from './Error.styles';\n\nfunction Error({ errors }) {\n  return errors.length ? (\n    <ErrorContainer>Errors: {errors.map((err) => `${err} `)}</ErrorContainer>\n  ) : (\n    ''\n  );\n}\n\nexport default Error;\n","import styled from 'styled-components';\r\n\r\nexport const SearchResultsWrapper = styled.section`\r\n  margin: 0 auto;\r\n  width: 80%;\r\n  padding: 1.5rem 3rem;\r\n  background-color: #7b57ae;\r\n  color: #eaeaff;\r\n  border-radius: 3px;\r\n`;\r\n\r\nexport const SearchResultsHeader = styled.header`\r\n  text-align: center;\r\n`;\r\n\r\nexport const SelectedResult = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SelectedResultCard = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const Next5DaysSection = styled.footer`\r\n  margin-top: 2rem;\r\n`;\r\n\r\nexport const Next5DaysList = styled.ol`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0;\r\n  list-style-type: none;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.li`\r\n  background-color: #673a9f;\r\n  text-align: center;\r\n  padding: 1rem;\r\n  min-width: calc(20% - 4rem);\r\n  border-radius: 3px;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  margin-top: 0;\r\n`;\r\n\r\nexport const WeatherText = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  text-align: center;\r\n\r\n  p {\r\n    padding: 0;\r\n    width: 100%;\r\n  }\r\n`;\r\n","import React from 'react';\nimport { Wrapper, Title, WeatherText } from './WeatherCard.styles';\n\nfunction WeatherCard({ day, temperature, weatherText }) {\n  return (\n    <Wrapper>\n      <Title>{day}</Title>\n      <span>\n        From {temperature.minimum}'C To {temperature.maximum}'C\n      </span>\n      <WeatherText>\n        <img\n          src='https://img.icons8.com/color/48/000000/smiling-sun.png'\n          alt='sun'\n          height='25px'\n        />\n        <p>{weatherText.byDay}</p>\n      </WeatherText>\n      <WeatherText>\n        <img\n          src='https://img.icons8.com/emoji/48/000000/full-moon-face.png'\n          alt='night'\n          height='25px'\n        />\n        <p>{weatherText.byNight}</p>\n      </WeatherText>\n    </Wrapper>\n  );\n}\n\nexport default WeatherCard;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectNext5Days } from '../../app/WeatherSlice';\nimport { Next5DaysSection, Next5DaysList } from './SearchResults.styles';\nimport WeatherCard from '../WeatherCard/WeatherCard';\n\nfunction Next5Days() {\n  const next5Days = useSelector(selectNext5Days);\n\n  return (\n    <Next5DaysSection>\n      <Next5DaysList>\n        {next5Days?.map((day) => {\n          return (\n            <WeatherCard\n              key={day.Date}\n              day={getDayOfWeek(day.Date)}\n              temperature={formatTemperature(day.Temperature)}\n              weatherText={{\n                byDay: day.Day.IconPhrase,\n                byNight: day.Night.IconPhrase,\n              }}\n            />\n          );\n        })}\n      </Next5DaysList>\n    </Next5DaysSection>\n  );\n}\n\nfunction formatTemperature(temperature) {\n  const min = temperature.Minimum;\n  const max = temperature.Maximum;\n  return {\n    minimum: min.Unit === 'F' ? convertToC(min.Value) : min.Value,\n    maximum: max.Unit === 'F' ? convertToC(max.Value) : max.Value,\n  };\n}\n\nfunction convertToC(F) {\n  return ((F - 32) * (5 / 9)).toFixed(1);\n}\n\nfunction getDayOfWeek(date) {\n  const dayOfWeek = new Date(date).getDay();\n  return isNaN(dayOfWeek)\n    ? null\n    : ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][dayOfWeek];\n}\n\nexport default Next5Days;\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  favorites: [],\r\n};\r\n\r\nexport const favoritesSlice = createSlice({\r\n  name: 'favorites',\r\n  initialState,\r\n  reducers: {\r\n    changeFavorites: (state, action) => {\r\n      state.favorites = action.payload;\r\n    },\r\n    addFavorite: (state, action) => {\r\n      if (\r\n        state.favorites.find(\r\n          (item) => item.location.id === action.payload.location.id,\r\n        )\r\n      )\r\n        return;\r\n\r\n      state.favorites.unshift(action.payload);\r\n    },\r\n    deleteFavorite: (state, action) => {\r\n      state.favorites = state.favorites.filter(\r\n        (item) => item.location.id !== action.payload.location.id,\r\n      );\r\n    },\r\n    updateFavorites: (state, action) => {\r\n      if (!Array.isArray(action.payload)) {\r\n        return (state.favorites = updateOneFavorite(\r\n          action.payload,\r\n          state.favorites,\r\n        ));\r\n      }\r\n\r\n      const ids = state.favorites.map((item) => item.location.id);\r\n      const relevantPayload = action.payload.filter((item) =>\r\n        ids.includes(item.location.id),\r\n      );\r\n\r\n      for (let item of relevantPayload) {\r\n        updateOneFavorite(item, state.favorites);\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nfunction updateOneFavorite(payload, favorites) {\r\n  return favorites.map((item) => {\r\n    if (item.location.id === payload.location.id) return payload;\r\n\r\n    return item;\r\n  });\r\n}\r\n\r\nexport const {\r\n  changeFavorites,\r\n  addFavorite,\r\n  deleteFavorite,\r\n  updateFavorites,\r\n  isFavorite,\r\n} = favoritesSlice.actions;\r\n\r\nexport const selectFavorites = (state) => {\r\n  return state.favorites.favorites;\r\n};\r\n\r\nexport default favoritesSlice.reducer;\r\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectWeather } from '../../app/WeatherSlice';\nimport { Button } from '../../shared.styles';\nimport {\n  SearchResultsHeader,\n  SelectedResult,\n  SelectedResultCard,\n} from './SearchResults.styles';\nimport { useDispatch } from 'react-redux';\nimport {\n  addFavorite,\n  deleteFavorite,\n  selectFavorites,\n} from '../../app/FavoritesSlice';\n\nfunction Header() {\n  const dispatch = useDispatch();\n  const weather = useSelector(selectWeather);\n  const favorites = useSelector(selectFavorites);\n  const [isInFavorite, setIsInFavorite] = useState(\n    favorites.find((item) => item.location.id === weather.location.id),\n  );\n\n  useEffect(() => {\n    setIsInFavorite(\n      favorites.find((item) => item.location.id === weather.location.id),\n    );\n  }, [weather, favorites]);\n\n  return (\n    <SearchResultsHeader>\n      <SelectedResult>\n        <SelectedResultCard>\n          <img\n            src='https://img.icons8.com/color/96/000000/weather-forecast.png'\n            alt='Weather'\n            style={{ marginRight: '3rem' }}\n          />\n          <div>\n            <h3>{weather.location?.name}</h3>\n            <span>{weather.currentWeather?.temperature}'C</span>\n          </div>\n        </SelectedResultCard>\n        <h1>{weather.currentWeather?.weatherText}</h1>\n        <div>\n          {isInFavorite ? (\n            <Button\n              onClick={() => {\n                setIsInFavorite(false);\n                dispatch(deleteFavorite(weather));\n              }}\n            >\n              Remove from Favorites\n            </Button>\n          ) : (\n            <Button\n              onClick={() => {\n                setIsInFavorite(true);\n                dispatch(addFavorite(weather));\n              }}\n            >\n              Add to Favorites\n            </Button>\n          )}\n        </div>\n      </SelectedResult>\n    </SearchResultsHeader>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { SearchResultsWrapper } from './SearchResults.styles';\nimport Next5Days from './Next5Days';\nimport Header from './Header';\n\nfunction SearchResults() {\n  return (\n    <SearchResultsWrapper>\n      <Header />\n      <Next5Days />\n    </SearchResultsWrapper>\n  );\n}\n\nexport default SearchResults;\n","import styled from 'styled-components';\n\nexport const CardsList = styled.ul`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  list-style-type: none;\n  flex-wrap: wrap;\n`;\n\nexport const Card = styled.li`\n  padding: 1rem;\n  border-radius: 3px;\n  background-color: #7b57ae;\n  color: #eaeaff;\n  text-align: center;\n  margin-bottom: 1rem;\n  min-width: calc(20% - 4rem);\n`;\n\nexport const Title = styled.h2``;\n\nexport const PageTitle = styled.h1`\n  font-size: 3rem;\n  text-align: center;\n  color: #673a9f;\n  width: 100%;\n`;\n","import React from 'react';\nimport { Title, Card as FavoritesCard } from './Favorites.styles';\n\nfunction Card({ place, temperature, weatherText }) {\n  return (\n    <FavoritesCard>\n      <Title>{place}</Title>\n      <p>{temperature}'C</p>\n      <p>{weatherText}</p>\n    </FavoritesCard>\n  );\n}\n\nexport default Card;\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectFavorites } from '../../app/FavoritesSlice';\r\nimport Card from './Card';\r\nimport { CardsList, PageTitle } from './Favorites.styles';\r\nimport { Container } from '../../shared.styles';\r\n\r\nfunction Favorites() {\r\n  const favorites = useSelector(selectFavorites);\r\n\r\n  return (\r\n    <Container>\r\n      <PageTitle>\r\n        {favorites.length ? 'Favorites' : 'There are no favorite cities yet!'}\r\n      </PageTitle>\r\n      <CardsList>\r\n        {favorites.map((favorite, i) => {\r\n          return (\r\n            <Card\r\n              key={i}\r\n              place={favorite.location.name}\r\n              temperature={favorite.currentWeather.temperature}\r\n              weatherText={favorite.currentWeather.weatherText}\r\n            />\r\n          );\r\n        })}\r\n      </CardsList>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Header from './components/Header/Header';\r\nimport Search from './components/Search/Search';\r\nimport Error from './components/Error/Error';\r\nimport SearchResults from './components/SearchResults/SearchResults';\r\nimport Favorites from './components/Favorites/Favorites';\r\nimport {\r\n  fetchNext5DaysWeather,\r\n  fetchCurrentWeather,\r\n} from './components/Search/SearchAPI';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  changeLocation,\r\n  changeNext5Days,\r\n  changeCurrentWeather,\r\n} from './app/WeatherSlice';\r\n\r\nasync function getWeather(handleError) {\r\n  try {\r\n    const next5Days = await fetchNext5DaysWeather(215854);\r\n    const currentWeather = await fetchCurrentWeather(215854);\r\n\r\n    return [currentWeather, next5Days];\r\n  } catch (err) {\r\n    handleError(err);\r\n  }\r\n}\r\n\r\nfunction App() {\r\n  const [error, setError] = useState([]);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    async function updateWeather() {\r\n      const [currentWeather, next5Days] = await getWeather(handleError);\r\n\r\n      if (currentWeather == null || next5Days == null) return;\r\n\r\n      dispatch(changeLocation({ id: 215854, name: 'Tel Aviv' }));\r\n      dispatch(changeNext5Days(next5Days));\r\n      dispatch(changeCurrentWeather(currentWeather));\r\n    }\r\n\r\n    updateWeather();\r\n  }, []);\r\n\r\n  function handleError(err) {\r\n    setError([...error, err.message]);\r\n    setTimeout(() => {\r\n      setError([]);\r\n    }, 10000);\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      <Switch>\r\n        <Route path='/favorites'>\r\n          <Favorites />\r\n        </Route>\r\n        <Route exact path='/'>\r\n          <Search errorHandler={handleError} />\r\n          {error && <Error errors={error} />}\r\n          <SearchResults />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\nimport weatherReducer from './WeatherSlice';\nimport favoritesReducer from './FavoritesSlice';\n\nexport const store = configureStore({\n  reducer: {\n    weather: weatherReducer,\n    favorites: favoritesReducer,\n  },\n});\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}